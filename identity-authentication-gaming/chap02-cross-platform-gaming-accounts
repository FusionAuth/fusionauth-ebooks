Cross-Platform Gaming Accounts: Why and How?
Pitch: More and more games are launching across two or more platforms. One of the prime reasons why game developers go cross-platform is to leverage a larger market. In this guide, you will demonstrate to readers why cross-platform gaming accounts are important and how game developers can easily implement this.

Audience: Game Developers

Client: FusionAuth

Writer Deliverables: 1500-2500 word article,Screenshots,Code Snippets

Outline: (this is just a starting point, feel free to modify it as you see fit)
- Introduction (1-3 paragraphs)
    - Introduce the reader to cross-platform gaming accounts (briefly)
    - Why does the reader need cross-platform gaming accounts? (briefly)
    - What will the reader learn in this article?
- Why does the reader need cross-platform gaming accounts (2-3 paragraphs)
    - Expand on what cross-platform gaming accounts are
    - List out use cases for why these are important
        - Wider range of users
        - Cross-platform play
        - [Writer’s Choice]
- Answering the title (meat of article)
    - Introduce auth servers as a way of implementing cross-platform gaming accounts
    - Discuss criteria for choosing an auth provider
        - Supports logging in to the major game networks: PSN, Xbox, Nintendo, PC, Twitch, Epic, Steam
        - Support for the device grant (for easy sign-in on your console using your phone).
        - Has SDKs for profile access in multiple languages
        - Is customizable so that the login page looks like your game
    - How to implement cross-platform gaming accounts using an auth server
        - Demonstrate with an example using FusionAuth
    - [Writer’s Choice]
- Conclusion (2-3 paragraphs)
    - Restate what the reader has learned

Reference(s):
List of cross-platform games: https://www.digitaltrends.com/gaming/all-cross-platform-games/
Discussion about cross-platform play: https://www.top10esports.com/cross-platform-compatibility-why-dont-all-games-have-it/
https://www.google.com/search?client=firefox-b-1-d&q=why+aren%27t+more+games+cross+platform has lots of results on why folks are or are not.

Example Article(s):
NA

Target Keyword: NA

Writer Name: Rabo James Bature

Writer Profile URL: https://portal.draft.dev/writers/recBh7nBmVTWAIDLA

----- Article

# Cross-Platform Gaming Accounts: Why and How?

More and more games are launching across two or more platforms. One of the prime reasons why game developers go cross-platform is to leverage a larger market. Being able to sell products to a whole new set of users is an incredible win for game developers, and demand for cross-play from gamers is [increasing as well](https://blog.unity.com/games/why-demand-for-cross-platform-multiplayer-games-is-growing-2021).

Having a cross-platform gaming account enables users to play games on different platforms while syncing their progress as they switch platforms or consoles.

In this guide, you’ll be introduced to cross-platform gaming accounts and why they're so useful. You’ll also learn how to implement one into your platform using [FusionAuth](https://fusionauth.io/).

## What Is a Cross-Platform Gaming Account?

A few years ago, one of the major challenges of digital gaming was platform independence and compatibility issues between gaming platforms. For example, PlayStation players couldn’t play with Xbox players, meaning that friends couldn’t play together because their systems didn’t interoperate or because there was no mechanism to abstract away their hardware and allow cross-play. Players, fans, and game developers all wanted a method where games could be accessed and played regardless of the hardware used.

Advancements in technology and shifts in the gaming community have made cross-platform gaming not only possible, but far more common. One way this is achieved is by using *cross-platform accounts*, in which an auth server stores all account data (including progress, level, and cosmetic skins) and authenticates a user.

## Advantages of Cross-Platform Accounts

Cross-platform accounts are a win for both sides of the game market. Gamers get even more playing opportunities without needing to buy multiple consoles, while game developers can increase their market reach.

This paradigm offers several advantages.

### Wider Range of Users

Game developers and publishers are leveraging cross-platform gaming accounts to develop a larger community of gamers across different platforms, because the console limitation is gradually fading away and games are becoming less exclusive.

### Cross-Platform Play

A cross-platform gaming account allows users to play a game on one platform with a particular console and then smoothly transfer to another platform or console. Not only does this enable gamers to save their progress no matter where they’re playing, but it allows them to play their favorite games without worrying about what platform they’re using. 

### Faster Delivery

If you launch a single-platform game, further down the line you may find yourself porting it and spending development days doing the work. It’s easier to have one single codebase that can run on multiple platforms. Apex Legends, for example, is one of the biggest modern games at around [115 million players per month](https://activeplayer.io/apex-legends-live-player-count-and-statistics/). Because it’s written in C/C++, it mostly works out of the box without requiring custom code for all its platforms (it currently runs on PC, PS5, Xbox One, and Nintendo Switch).

## Enabling Cross-Platform Play via Auth Servers

One of the major challenges of implementing cross-platform gaming is determining how to secure and transfer gamers’ accounts from one platform to another.

This is where an authentication server comes into play. Instead of relying on platform-specific gaming authentication mechanisms (like Google Play Games and PSN), you need to use a third-party authentication server to verify a gamer’s login credentials. Once verified, you could share their game details such as progress, collectables, and more, directly to the platform that they are playing on.

## How Do You Choose an Auth Provider?

The gaming industry has been experiencing rapid growth, both in the number of gamers and the number of games published. As these numbers increase, gaming platforms will continue to become a target for hackers. That makes your choice of auth provider even more important.

In order to properly secure cross-platform gaming accounts, your auth provider should include the following features.

### Support for Major Game Networks

Each game platform is built differently, so in choosing an auth server, you need to verify that the server supports logging into major game networks like PSN, Xbox, Nintendo, Twitch, or Epic. You also need to ensure that your auth server allows [identity linking](https://fusionauth.io/docs/v1/tech/identity-providers/#linking-strategies), which enables a gamer to log in on a PC and later log in on a PlayStation and link those two accounts together. It also allows gamers to switch platforms without worrying about compatibility issues, loss of progression, logging delays, or eventual failure.

### Support for Device Grants

One of the authentication methods that auth servers use is a device grant. With this grant, rather than authenticating the console directly (which has input constraints, making it tedious to enter a username and password), gamers are directed to use a link on their smartphone to authorize access to the console. A device grant makes it easier to access the console because it saves the gamer from having to do much typing.

### SDKs for Multilingual Access

One of the advantages of cross-platform gaming is that gamers can play not only across platforms but across different languages. Your auth server should have SDKs that support profile access in multiple languages so that you can localize messages and the user interface. This allows gamers to read messages and interact in their preferred language.

### Customizable Login Page

One of the more captivating aspects of digital gaming and gaming platforms is the graphics. To keep your interface and login page at the same high level of quality that your game provides, choose an auth server that allows you to customize your login page to look like your game.

## Implementing a Cross-Platform Gaming Account Using an Auth Server

Now that you understand how cross-platform gaming accounts are implemented, you’re going to build one. In this tutorial, you’ll do the following:

- Install FusionAuth (on Mac, Windows, or Linux)
- Start your auth server (to accept the cross-platform accounts)
- Review your Maintenance Mode settings
- Complete the Setup Wizard
- Create a cross-platform game (Android and Windows) where users can register and login from either platform.


### Requirements

This tutorial assumes you have either a MySQL or PostgreSQL database already initialized with the necessary permissions to create, delete, and update tables. If you don’t, [follow these instructions](https://fusionauth.io/docs/v1/tech/installation-guide/database) to install.

You’ll also need Node.js installed. You can verify that it’s installed by running `node -v` in your terminal; you should see a version returned:

![Node version](https://i.imgur.com/8l0C42i.jpg)

### Install FusionAuth (on Mac, Windows, or Linux)

When enabling cross-platform gaming, you first need to create a single account and authenticate the player using an Auth server (FusionAuth). This account will then be used to unify the player’s gaming platform account or various accounts such as PlayStation, Xbox, Nintendo, and so on, using FusionAuth identity-linking. With this, the player can access the game from different platforms or multiple platforms and still be recognized by the game. 

Settling down with a cross-platform gaming auth server is tricky. Your auth server needs to allow your users to login via device grants since some consoles can be restricting when it comes to text input. Your auth server also needs to provide a reliable flow, so that your users can register in your app during peak traffic times without dealing with crashes.

FusionAuth does that and more. Gaming accounts are valuable since players invest money into buying in-game merchandise and services. FusionAuth implements a powerful [hashing scheme](https://fusionauth.io/learn/expert-advice/security/math-of-password-hashing-algorithms-entropy) to ensure that user accounts are secure. With its identity-linking strategies for a variety of identity providers, you can achieve seamless integration of your users’ accounts across multiple platforms.

Installing FusionAuth is painless, and it can all be run from a simple cURL request.

FusionAuth provides [multiple example requests](https://fusionauth.io/docs/v1/tech/5-minute-setup-guide#1-install-fusionauth) to install it. A few examples are:

**Linux**

```
sh -c "curl -fsSL https://raw.githubusercontent.com/FusionAuth/fusionauth-install/master/install.sh | sh -s - -z"
```

**MacOS**

```
sh -c "curl -fsSL https://raw.githubusercontent.com/FusionAuth/fusionauth-install/master/install.sh | sh"
```

**Windows**

```
. { iwr -useb https://raw.githubusercontent.com/FusionAuth/fusionauth-install/master/install.ps1 } | iex; install
```

> For easier integration on Windows, consider integrating [WSL2](https://docs.microsoft.com/en-us/windows/wsl/install) into your system.

You should see something like this:

![Installation successful](https://i.imgur.com/B40zfds.jpg)

### Start Your Auth Server

In the place where you just installed FusionAuth, run it by executing the startup script provided:

```
fusionauth/bin/startup.sh
```

If you’re following along on Windows, you’ll need to use `startup.bat` instead of `startup.sh`.

### Review Your Maintenance Mode Settings

When you first run the commands, your database is probably not set up, meaning that when you navigate to `http://localhost:9011` you’ll likely see the Maintenance Mode screen:

![FusionAuth Maintenance Mode](https://i.imgur.com/Ihqnf6N.jpg)

You need to enter the following:

- The superuser credentials for your database
- The name of the host of your database

An example would look like this:

![Maintenance mode login](https://i.imgur.com/PpcCqHn.jpg)

Click **Submit**. You should see the following:

![Start screen](https://i.imgur.com/BJzwgGo.jpg)

> If you do encounter this error ***Exception in thread main java.lang.NoClassDefFoundError: com/inversoft/mysql/MySQLHelper***, please [check this thread](https://fusionauth.io/community/forum/topic/2144/fusionauth-1-37-is-released/3?_=1660440198335&lang=en-US) for a solution.

### Complete the Setup Wizard

Once FusionAuth starts, you’ll be taken to the Setup Wizard. Create an administrator account and accept the license:

![Setup Wizard](https://i.imgur.com/ab97g7t.jpg)

### [Create a Tenant](https://fusionauth.io/docs/v1/tech/core-concepts/tenants#overview)
FusionAuth supports single and multiple tenancies. This enables you to host multiple games and or applications on a single instance of the FusionAuth server. A [tenant](https://fusionauth.io/docs/v1/tech/apis/tenants) can hold multiple groups of Users, Applications where each user is unique by email address or username within a tenant.

To create a tenant, open the ***Tenant*** tab on the side pane and click the plus button in the top left corner. Give the tenant a unique name, in this case, ***GameGuruTenant*** leaving the rest of the options as they are and saving the tenant.

![enter image description here](https://imgur.com/AP0ugTY.png)

### Create an Application

On the left-hand side of your dashboard, navigate to **Applications** and click the green plus icon in the top right to create a new application, associate with the tenant **GameGuruTenant** above.

You can leave the default settings in place. A UUID is auto-generated for you. Feel free to click through tabs like OAuth, CleanSpeak, and Email to customize anything you think you’ll need.
You also need to add some roles for this apps use case:
1. **super-user** with the Super Role checkbox ticked.
2. **gamer** role to be assigned to all players registering from the app.

  

![Create Application](https://imgur.com/vTA5PmG.png)
  
### Create an API key
Most FusionAuth APIs [require authentication](https://fusionauth.io/docs/v1/tech/apis/authentication) when making requests. This is done by adding an Authorization header to the request with an API key associated with your application.

On the Side pane, click **Settings | API KEYS** and click the plus button on the top left corner.

This API key will only be associated with the above tenant **GameGuruTenant**. To allow this API key to have access to all endpoints, do not select any in the list provided otherwise if interested in restricting access enable the ones you require only.
![Create API key](https://imgur.com/q6X2tiO.png)

### Building the Game

You are going to build a [Flutter](https://flutter.dev/) cross-platform game for Windows and Android that allows a user to register and log in from either platform. 
FusionAuth offers multiple authentication options for you to consider when building your application. These include:

- [Self-service](https://fusionauth.io/docs/v1/tech/guides/basic-registration-forms) forms where FusionAuth hosts the registration forms and pages.
- An [API-based](https://fusionauth.io/docs/v1/tech/apis/users) approach to manage users.
- [Third party login](https://fusionauth.io/docs/v1/tech/identity-providers/) using identity providers such as Google.

In this application, you are going to utilize the **API option** due to its simplicity and direct approach.

### Create a New Flutter Application
This is the start of building the Android and Windows Flutter applications.

#### Prerequisites
- A system with a [Flutter installation](https://docs.flutter.dev/get-started/install).
- A [VSCode editor](https://code.visualstudio.com/) with Flutter and Dart extensions installed.

#### [Create Flutter Application](https://docs.flutter.dev/get-started/test-drive?tab=vscode)
  To create a fresh Flutter application run this command `
flutter create my_app` on your terminal pointing to a directory of your choice.

#### Adding dependencies
Open your Flutter project in VSCode and add these dependencies to the `pubsec.yaml` file located in the root folder of the project.

```yaml

dependencies:
	flutter:
		sdk: flutter
	cupertino_icons: ^1.0.2

	//Facilitates making Network calls.
	dio:
	//For secure storage of user data
	flutter_secure_storage:
```

Flutter will automatically download these dependencies though you can run this command `flutter pub get` on your terminal to download them.

At this point, run the app to make sure everything is set up correctly.

#### Connecting the App with FusionAuth Server
In the ***lib*** folder, create a new file `network.dart`. This is where you are going to write code to connect the app and the FusionAuth server.

```dart
const  FlutterSecureStorage  secureStorage = FlutterSecureStorage();

class  ApiResponse {
bool  success;
String? errorMessage;
ApiResponse({required  this.success, this.errorMessage});
}

class  NetworkApi {

// Use this when building for Windows
static const FUSION_AUTH_DOMAIN = 'http://localhost:9011';

//Use this when building for Android
static  const  FUSION_AUTH_DOMAIN = 'http://your-ip-address:9011';

static  const  apiKey = 'your-API-key';

static  const  applicationId = 'your-application-id';

static  final  dio = Dio();  

static  Future<ApiResponse> login(String  username, String  password) async {
try {
var  result = await  dio.post(
'$FUSION_AUTH_DOMAIN/api/login',
data: jsonEncode({
"applicationId": applicationId,
'loginId': username,
'password': password,
}),
options: Options(headers: <String, String>{'Authorization': apiKey}),
);

print(result.data);

//Securely Save important data such as token received from the server
secureStorage.write(key: 'token', value: result.data['token']);
secureStorage.write(key: 'tokenExpirationInstant', value: result.data['tokenExpirationInstant'].toString());
secureStorage.write(key: 'username', value: result.data['user']['username']);

return  ApiResponse(success: true);

} on  DioError  catch (e) {

print(e);
print(e.response);
return  ApiResponse(success: false, errorMessage: "An Error occured");

} catch (e) {

print(e);
return  ApiResponse(success: false, errorMessage: 'An Error Occurred');
}
}

static  Future<ApiResponse> register(String  username, String  password) async {
try {
var  result = await  dio.post(
'$FUSION_AUTH_DOMAIN/api/user/registration/',

data: jsonEncode({
"registration": {
"applicationId": applicationId,
"roles": [
"gamer",
],
},
"user": {
'username': username,
'password': password,
},
}),

options: Options(headers: <String, String>{'Authorization': apiKey}),
);

return  ApiResponse(success: true);

} on  DioError  catch (e) {

print(e);
print(e.response);
return  ApiResponse(success: false, errorMessage: "An Error occured");

} catch (e) {

print(e);
return  ApiResponse(success: false, errorMessage: 'An Error Occurred');

}
}

}
```
- The *`secureStorage`* is a global variable that exposes the `FlutterSecureStorage` functions to store and retrieve data securely.
- The *`ApiResponse`* class holds the data and status to be returned to the UI when an API request is finished.
- The *`FUSION_AUTH_DOMAIN`* variable holds the URL domain to which the app is going to connect.
- The *`apiKey`* variable holds the credential key required to authorize API requests from your app to FusionAuth.
- The *`applicationId`* variable holds your Application ID which is used to associate your API request to a specific FusionAuth application.
- The *`login`* function receives two arguments, *`username`* and *`password`* which are sent to the server for user authentication.
The [FusionAuth login API](https://fusionauth.io/docs/v1/tech/apis/login#request) is located at *`/api/login`* and requires an [API key authentication](https://fusionauth.io/docs/v1/tech/apis/authentication) which is passed in the Authorization header.
If authentication is successful, the API will return data that you store securely for other purposes. An unsuccessful request will fail with an error Code as defined in the [Login API documentation](https://fusionauth.io/docs/v1/tech/apis/login#request).
- The *`register`* function also receives two arguments, *`username`* and *`password`* which are sent to the server for user creation and registration.
The [FusionAuth Registration API](https://fusionauth.io/docs/v1/tech/apis/registrations) is located at **/api/user/registration/***, and also requires an API key for authentication. However, in some scenarios, the [X-FusionAuth-TenantId](https://fusionauth.io/docs/v1/tech/apis/authentication#making-an-api-request-using-a-tenant-id) header is required so as to scope the request properly.
In the JSON request, you add a list of roles that the user should have. In this case, you assign the ***gamer*** role created above.

> **User Creation** involves creating a global account for a user on the
> FusionAuth server while **User Registration** entails associating the user
> to the FusionAuth application they are going to log into.

FusionAuth offers two ways to create and register a user: 
1. [Create a User and Registration Combined](https://fusionauth.io/docs/v1/tech/apis/registrations#create-a-user-and-registration-combined)
2. [Create a User](https://fusionauth.io/docs/v1/tech/apis/users#create-a-user) and then [Register the user](https://fusionauth.io/docs/v1/tech/apis/registrations#create-a-user-registration-for-an-existing-user). 

This application uses the first option as it is simpler. To implement the UI, please [checkout this repository](https://github.com/ndungudedan/fusion_auth_game) for the rest of the code.

## Conclusion

Cross-platform gaming is a positive development for gamers and game developers alike, but you need to ensure the safety of your players as well as the security of their accounts. This way, they can play on whatever platform they like without worrying about access problems.

By using an auth server to verify gamers’ credentials, you can maintain strong security with minimal setup and ensure convenient access so your users can get started playing right away.

